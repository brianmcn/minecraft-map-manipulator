MOJANG BUGS

beacon at spawn sometimes not render, villager in hub sometimes not render, absorbtion/HB hearts sometimes not show (client reset 4ixes)
go thru gateway on horse 91628
elytra no work after tp https://bugs.mojang.com/browse/MC-92916

TO TEST

uhc balance; made lots of changes to food/heals/start items/spawners
test the potion buffs (speed is good, strength good, haste didn't notice much, health boost good when not glitch display)

PUBLISHED MAPS

Mar2016A - seed 231, single, normal
xx Mar2016B - seed 129, multi, normal
xx Mar2016C - seed  17, multi, normal   (tougher?)
Mar2016D - seed  20, single, normal
Mar2016E - seed 357, multi, normal
Apr2016A - seed ice-spikes, single, normal   // LNG request

May2016A - seed mesa2, multi    // CT request
May2016B - seed 684, single
May2016C - seed 702, single

May2016E - seed 611, multi-EZ

CHECKLIST (automate?)
make world checklist:
    tweak customization knobs
	set up world name
	run it
	curation advice: num dungeons near spawn and cave length to reach them; overall beacon layout
publish checklist: 
	let spawn settle
	fix icon
	do any manual customization
	put player in starting box
	run 
		/gamemode 0 
		/defaultgamemode 0 
		/effect @p clear
		/clear
	remove stats/playerdata
	change folder name map date/name
	make a copy
	go in and check spawn platform, caves/dungeons/pillars, worst flat/peak, orchid, purple underground, map_0

TEST
OK? slightly fewer reds, makes each better and may force more exploration
OK? too much book loot: dung has boa no smite, and green has smite no boa, and green can give fewer melee but still have 2 dung; also peak only gives red/green, no dung
OK? still maybe too much diamonds or prot at end, lessened diamonds
OK? anti-tunneling under peaks too? I did it, but it doesn't dissuade really; make the bedrock below it a little wider, 1 block might do wonders? 2 on mountain? and on mountain, put some air next to it (above bedrock), so can't dig in from side
OK? peak floating half in a tree, obsidian confused by tree logs: need to remove trees on center of peak, and also have hm ignoring trees
OK? changes leaves to leavesAndLogs throughout, check for oddities, esp. look at elytra, peaks, and flats
OK? changed leaf ownership, look at nether/end trees, and teleporter-clear lines
OK? final dungeon quadrant wrong, because placed book in hiding spot before placing final dungeon
verify mineshaft beacon path looks ok
OK? make bedrock roo4 above mountain just a little higher?  just like 2 blocks?  maybe also elevate the loot box those 2 blocks? (700,350 on seed615)
OK? remove trees at spawn before glowpillar? check the 200 thresh with SL<13 or so? check glow pillars look good
OK test new dung rate - at 50, seems a little high maybe, but better high than low I think
OK one use pickaxe doesn't have a huge repair cost, can repair with wood planks e.g., becomes great spawner-breaker


TODO: bugs & good ideas

what happens if drink milk while wearing jump boots?

'dead end' chest generated in the loot box (below loot, overwiting lapis base) in MayA, SE of spawn green

frost walker boots on underground mobs (4N saw in green dungeon)

mossy vanilla spawners inside high mountain (above Y = whatever) are not doubled (but loot chests have replaced loot)

post to /r/minecraftmaps, /r/ctm - done
post to /r/proceduralgeneration, forum?

future features/map request:
food: get rid of grass blocks, farm animals (or make scarce) so food (esp. good food) is hard to come by (tallgrass gone too, seeds in chests, maybe grass block in hard chests, spawn eggs, ...) try not to make gold apples too attractive
	get rid of all grass/tallgrass? (or add thick/high grass everywhere?)
	cow spawn eggs (too op?) rationing friendly mobs? ...
	   i think getting rid of all meats is good; maybe more gapples or bread in random chests   http://minecraft.gamepedia.com/Hunger#Mechanics
	    - all meats means cow/chicken/pig/sheep/rabbit/mooshroom
	   no grass means no friendly (except ocelot), so could use mycelium or dirt to replace all grass
	   maybe grass block in rare chest at outer edge of map?  
			figure out how many meat-mobs spawn on a tiny patch of grass, to decide if grass is an aethetic bonus or a mechanical bonus
			on a 50x50 patch, 10 will spawn reasonable fast but then get capped, but then you can breed them; 
				will be significant, though e.g. with map covered in mycelium rather than dirt, takes a lot of effort...
	to sum up:
		kill all 6 meat mobs
		grass -> mycelium on map   
		(mushroom biomes would still spawn mooshrooms, so validate no mush on original map)
		hmm, my name watermark is an issue, need to maybe change to 'The Void' for my watermark
		random chests food changes:
			aesthetic3 is still a bonanza with hay bales, hmm, get rid of those?
			occasionalGreatBonus() needs to turn down a level (e.g. steak->break, gapples->steak) or something
thunderstorm rather than night outside the ring? https://www.reddit.com/r/VanillaSwirlCTM/comments/4btdb9/map_request_thread/d1xpa0x


(possibly some spellbook that lets you pull up all the 'quest text' to refer back to in chat or something, so don't need to carry/forget books?)
even when dungeon reachable, may be in shallow cave, unmarked because pillar says cave is not big enough to warrant pillar
glowstone pillar algorithm improved, but dungeons-near-them metric is still poor, improve?  ravines and many directions are tough, need a metric where an unbranching narrow cave costs less (have an idea for one)
can find more glowstone pillars now, decide if want to trim them to help find dungeons - ideally need better way to combine & summary pillar/dungeon metrics into a recommendation

apparent side-path of 2 (screenshot apr25), was in a wide open spot where cave-skeleton must have doubled-back at different Y height and repainted redstone, making apparently short side path (hard to imagine how to fix offhand)

any kind of 'progress meter' in cave dungeons?   
what if in purple dungeon, first 5 spawners are zombie, next 5 are skeleton, creeper, cave spider, wither skel, witch, and then mix after that?
"Something like cave systems that shift and change flavor as you delve deeper could be really fun in the future - walls changing over from andesite to diorite to granite might be a way of signalling that something new is happening to the player"

bats with a trail of fire particles look cool :)
something with pushable blocks or moving platforms using shulkers?

noticed variability in flats: 1 to 11 spider jockeys (usually 4-6), again independent events cause too much variance
 - fixed the SpawnerData.NextSpawnerAt() to bias the rng for more balanced mob types in right proportions, but the number of spawners is harder to bias in dungeons since the percentages vary based on location...

flats: TODO consider some simple maximal square algorithm rather than using findBestPeaks and connected components; right now it only finds a R=20 flat center rather than R=40 flat whole

random cool textures on the starting shields?

COLLECTABLES:

even a tiny floating island of like 40 blocks with one tree and a waterfall can be a fun little set piece (with a loot chest)
 - have a crude mockup in 126finished.  over plains/ice-plains/desert could be good
noisemaker noteblock troll underground? fireworks spawner... that has a secret loot chest (or cmd block with red block above chest, break block turns off repeat cmd)
deal with "// TODO these probabilities can cause wild swings in variance"
glowing underground mob? (invul magma?) spell something out, or have arrow, or be above chest, or what? (can't due to https://bugs.mojang.com/browse/MC-97094)
secrets hidden behind out-of-place-blocks (e.g. chiseled stone, 3x3gravel, etc in walls of caves)
what if each of the 16 colors had a one-word name, and the 16 words spelled out a sentence? or?


---

ice spikes seed: 1440595613939009001  or   442832462593546
variety: 35267400 or 604443340930998
mesa: 2347792175013291886 (poor caves nearspawn, poor green beacons)
   -3200857569343076362 (looks cool, adjust alg. a bit to deal with caves/flats decently)
   3316589309694287545
   8225324188694294234
   -2473410148646685791
diverse:  8609991750909377810
south warm, north cold:  -3784735310312308920

consider TNT under one loot chest nearest spawn? then need no more traps :)
ideas for 'harder' mobs: armored, thorns, carrying sharp weapons, wither skellies, flame bow skellies (or jockeys), having regen/strength, knockback resistance, increased follow distance, (do fire spiders inflict onFire?)... wither skellies with bows (shoot fire arrows: /summon Skeleton ~ ~ ~ {SkeletonType:1b,HandItems:[{id:"minecraft:bow"}]})
 - mobs that spawn at diff light levels/conditions (e.g. riding invisible silversifh with 0.5 health and withered)


more underground flora (ferns, flowers, etc) are usually fun... underground grass? ...

ender crystals?
soulsand (over ice?) as challenging terrain/substiution somewhere? v podzol in mega taiga? ...

one-way-home teleport mechanic? something time consuming you can't use in battle? kill iron golem or something? hm... or maybe one-way TPs home at major dungeon chests?

obe loves 'utility' custom items (e.g. digging feesh, glass harvester, eff X pick, ...), also unbreakable/spammable stuff (unbreakable leather/gold armor could be useful early and not OP)? 'attribute loot', armor with health boost, knockback resist, etc... consider those... also saw "sharpness -4, smite 7" which "can only harm undead"
obe would like to 'continue with normal survival' after done
more variety of random-chest-loot (have some good weapons/armor that will break quickly (e.g. smite V diamond sword with only 50 durability), or other 'collectables'); loot increases with distance from spawn? some traps necessary
 - unrepairable: you can set the RepairCost to a high value (though will also prevent any other usage with an anvil): /give @p minecraft:diamond_shovel 1 40 {display:{Name:"Custom Tool"},RepairCost:1000}
(the obeslisks in Eventide were effectively 'set pieces', can I think of others? wide area spawners did wonders for them; witch area (light) or guardian area (no water) may be good too?)
empty chest (with a name?) can be good troll
snow layers could be an interesting aesthetic or terrain feature?
treasure maps (actual maps) are neat, a la https://www.youtube.com/watch?v=YMhSt75or2U&t=9m45s or https://www.youtube.com/watch?v=ae2YKOAHtZY&t=1m55s (savanna flat grass, ring of lilypads (on ocean?)) but how make area recognizable/findable? CTM sub-area is smaller, find map in area... for me?
	another (missing tall grass/flowers for X): https://www.youtube.com/watch?v=fbtlLfEDsFk&t=9m
end dimension with other biomes allows other things to spawn (useful for lighting? no beds, bedrock fire, has water, lava speed?, what other mechanics in end dimension?)
when I do start adding any 'structures', they should all have randomness too (e.g. saw a cool big 'candle' whose fire was floating lava blocks, that could be neat to proc generate; more 'organic' stuff)
what about a mob that can place blocks? like leaves a trail of obsidian as it walks, maybe blocking you in? or something?
throwable light source (a la arcane bomb, splash pot -> tnt -> fire) is cool; arrows with pot effects for limited ammo special ranged something; limited ranged AoE is cool
rather than paintings, custom maps/design/info on walls, maybe with traps or secrets behind them
'charms' that if you have in your inventory (or in a certain slot of inventory) give you some bonus/buff/mechanic
enemies invisible except if you hold a certain item which makes them visible (glowing?) a short time is a maybe-interesting mechanic (can be transparent, but only non-hostile on same team seeFriendlyInvisibles)
natural spawn mechanics twiddling, e.g. all witches get replaces by 3 zombies, or some such; filling incaves below ground to spawn-cap surface area, ...
making all enemies glowing for a short time may be useful mechanic
(can rename/tag bits of food if want to not be stackable, e.g. treat steak like regen pot almost)
glowstone dust could be a fun loot drop, to accumulate to make glowstone? though it's already plentiful in the map now, so... maybe not
witch poison lasta a long time; can I entitydata the ThrownPotions in the air to make them more reasonable?
dreamplane/alternate dimension a la zelda LttP?
terrain generator with more caves, fewer ravines, diff ore, much higher sea level and deeper underground, my own biomes?
(wither skellies with bows shoot flame arrows (but I guess are not 'vanilla' mobs that way))

below this line can probably do without for beta
------------------------------------------------
bat spawner in sky, has mob as passenger, bat has wither effect, dies and randomly rains down mobs?
cool proc: walking on path blocks grants a speed buff
weapon with very long cooldown but very strong (e.g. one hit at start of battle?)
a really useful proc would be temp throwable light, e.g. arrow that lights fire where it lands, or puts temp light there somehow, hm... need an air block to replace of course... ghast fireball with limited explosion?
can give effects when in water (execute detect) or lava
can have in-ground arrows or in-flight arrows have area effects (brief fire?)
interesting idea is the 'alternate world'/'dream plane'/etc, where you get TPd to different region of map that's "same but different" a la Zelda:LttP and a couple CTMs
more varied terrain (like the end/hell trees) makes exploring more fun; vanilla is vanilla; mycelium?
can have forest -> ice forest, with leaves as packed ice, and have snow golem spawners (which will interact naturally with creepers on occasion)
some other block substitutions to make things interesting? cobble stairs/double-slabs to feign stone in caves?
 - glowstone 'ore veins' are fun to find (instead of lava? creepers can wreck? ...) idea: CC the lava/flowing_lava, convert all connected to level 10 to glowstone, if y>10, 50% air, if y <=10 obsidian?
 - biome change-up (to change grass colors)? to what purpose? (prefer to have a mechanic)
 - guardian swamp? (would it have treasure? utility item?)
 - some snow biome changeup with snowmen/creeper spawners on surface (some utility item?)
 - forest or ice spikes are good places to 'hide spawners' (trees, spikes) in an area, but how/what to put in middle to find?
 - mushroom biome with no mobs and rainbow color stuff? (lit with glowstone etc?) brown wool troll chest, in a fleecy box? too OP for underground loot? ok if near far egde of map, after caving not useful.
 - colored banners to decore an area and make it feel like it has a theme, or to mark a location, or something...
diorite pillars at day/night go down into some caves, was kind a cool effect, other ways to use? circle around some box/chest for another mini set piece?
seemd like there may still be some skylight bugs, do more checks versus MC
***look of dungeons customized, e.g. moss -> netherrack in hell biome, more spawners per dungeon has better loot
spawners inside tree leaves are nice simple 'traps', maybe by the tree chests? (how look on fast graphics if inside? or maybe just top center block of '+' e.g.)
consider language/translation stuff? german/ellpeck? (don't spend too much effort unless clear could be a big payoff)
obe things underground dungeons had too many mobs; fewer but harder might be good (blaze?) ... unsure how I feel (obe wanted more silverfish in final dungeon!)
awesome trap idea for underground cave (green/purple), spawners at/in lava layer can be almost ignored, what if trap dispenses a water bucket? or just have ice in ceiling or water sources behind spawners, etc
spider jockey spawner above the bedrock of mountain peak was kinda 'useful' (spawned mobs, made reason to go atop), consider intentionally putting stuff above it
still some cave-skeleton bugs (screenshots from jan 20)
***witch zones / guardian zones (could be small zone, but when you stand at loot chest, they spawn?)
***'themed' mobs, e.g. lots of undead, so smite/IH works, etc, make 'gear options' valuable
***configurable difficulty (# spawners, amount of loot, limit good foods, mob stats? map size? local difficulty/inhabitedtime? weather? uhc mode?) (somewhat in-progress already)
spawner underneath dead-end chest?
***hyper-spawner (dispenser with eggs)
***places where gravel floor falls
  - desert trap, can rig sand to fall like 10 blocks to obsidian line hole with a low-range spawner underneath, or have TNT, etc, can find flat areas, preserve cacti, etc.
  - key is getting player to set off trap, need a hook: gold block, chest, etc. and a few of them so not every one is a trap
***skeleton trap, electrified creeper
***primed tnt buried in walls
trap where enderman grabs sand/whatever and update lava somehow (floating lava?)
an area made out of chests/furnaces/etc where you want to use your bow is a nice 'trap' as right-clicking opens the chest
trap where lava encased in wood/leaves etc with no air space to start fire, once player breaks blocks, fire may ignite (tnt?)
anvils sitting on decaying leaf blocks in the sky?
legendary: seeing x from afar leads to seeing y up close... (telporter path, ...)
(secret rooms behind walls that look solid (e.g. array of armor stand with hardened clay on head looks like wall))
have a way to 'go to normal', e.g. turn off world border, (world embedded in normal terrain generator, ores, dungeons, with structures on, 
   small biomes, same seed, seamless?), turn off night stuff, how fix nether? ...
   what about drops after game is over? conditionally change all mob drops back to normal based on scoreboard? or? (like nether, have people delete files?)
glowstone behind stairs in wall (like Eventide Trance) highlights part of cave/dungeon without giving light
TODOs and refactorings...
undergound: 'giant crystal cave', e.g. you go down a cave and find a huge open space with ice and glass and whatnot. (how to generate 'look', how to place so there's a path, how to get player to find)
special named chickens that lay emeralds or something: https://www.reddit.com/r/Minecraft/comments/46vf81/diamondlaying_chickens/
interesting 'proc's
surface (or underground) structures are fun to find, even if just small rare not-too-useful item, nice to 'see new stuff' that looks interesting (but requires 'builds')

other ideas
floating structures? lava/water pillars fall down? sky has 'advantage' of being open to build without overlap... eventide trance parkour up the creeper platforms stuff
 - also oceans/tiny islands, can build without overlap, just need ways to draw players out there to find them
tnt exploding a morse code explosion-sound something?!?
infinite loot chest puzzle (need a certain tree/path through 27 chests in each to win, or something)
hollow out mountain, for top-down, multi-tier, encased in bedrock dungeon? ghast spawner atop mtn when broken could lead to ladder down to hollowed mountain dungeon
desert falling sand could also open hole into giant underground cavern of some sort?
more variants of set pieces (persistence-required mobs placed in map)
  - land guardians may make a good set piece (protection books?)
  - something to protect a good bow? close to spawn? kinda hard to get good bow early
rand cave wall spawners guarding iron/gold blocks?

idea: foresight potion, shows what rare things mobs will drop
  - zombie/skeleton/pigzombie wear item as head armor slot
  - other mobs have a visible customname (or maybe have invisible armor stand riding them that has head-armor item? have not tried)
to implement it, would have to use commands:
  - select an unprocessed-tag mob, mark to-process
  - deceide whether it gets a rare drop at all (most don't)
  - if so, select a 'kind' (item sans enchants) of rare drop from its table (long list of commands, PRNG to activate one)
  - entitydata/replaceitem the mob to display it; entitydata its DeathLootTable to drop it (loot table could still e.g. apply random enchants)
  - (requires factoring loot tables differently, so 'common' loot is in a separate table, so 'rare' could still reference 'common'; alternatively, could just be 'extra' loot atop normal drops)

idea: five lives: each time you die, your default max hearts decreases 2 (discourage suicide in UHC mode)
/summon ThrownPotion ~ ~2 ~ {Potion:{id:"splash_potion",Count:1b,tag:{CustomPotionEffects:[{Id:21b,Amplifier:-2b,Duration:1000}]}}}
-2 -3 -4 -5 valid amplifiers for 8 6 4 2 hearts
but the drinkable health pot would override completely... might be nice to 'buy back' hearts at a time, dunno, kinda tedious...
overall, not too compelling; those who would avoid suicide don't need the extra challenge, they'll challenge selves; just creating busy work for those who would suicide


